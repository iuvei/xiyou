<?xml version="1.0" encoding="UTF-8"?>
<schema package="protocol" version="1.0.0">
	<enumer name="ErrorNo" type="int32_t">
		<field name="EN_MIN" comment=""/>
		<field name="EN_CREATE_PLAYER_SAME_NAME" comment="创建角色名字重复错误"/>
		<field name="EN_CREATE_PLAYER_ILLEGAL_NAME" comment="创建角色名字非法错误"/>
		<field name="EN_CREATE_PLAYER_SECOND_TIME" comment="不能创建两个角色错误"/>
		
		<field name="EN_MAX" comment=""/>
	</enumer>
	<enumer name="IPropertyType" type="int32_t">
		<field name="IPT_MIN" comment=""/>
		<field name="IPT_PHYLE" comment="种族"/>
		<field name="IPT_TITLE" comment="称号"/>
		<field name="IPT_EXPERIENCE" comment="经验"/>
		<field name="IPT_LEVEL" comment="等级"/>
		<field name="IPT_COPPER" comment="铜钱"/>
		<field name="IPT_SILVER" comment="银两"/>
		<field name="IPT_GOLD" comment="金币"/>
		<field name="IPT_MAX" comment=""/>
	</enumer>
	<enumer name="CPropertyType" type="int32_t">
		<field name="CPT_MIN" comment=""/>
		<field name="CPT_HP" comment="生命"/>
		<field name="CPT_ATK" comment="攻击"/>
		<field name="CPT_DEF" comment="防御"/>
		<field name="CPT_MAGIC_ATK" comment="魔法攻击"/>
		<field name="CPT_MAGIC_DEF" comment="魔法防御"/>
		<field name="CPT_AGILE" comment="敏捷"/>
		<field name="CPT_KILL" comment="必杀概率"/>
		<field name="CPT_CRIT" comment="暴击伤害"/>
		<field name="CPT_COUNTER_ATTACK" comment="反击概率"/>
		<field name="CPT_SPUTTERING" comment="溅射伤害"/>
		<field name="CPT_DOUBLE_HIT" comment="连击"/>
		<field name="CPT_RECOVERY" comment="回复生命"/>
		<field name="CPT_REFLEX" comment="荆棘反射"/>
		<field name="CPT_SUCK_BLOOD" comment="吸血"/>
		<field name="CPT_INCANTER" comment="咒术"/>
		<field name="CPT_RESISTANCE" comment="抗性"/>
		<field name="CPT_MAX" comment=""/>
	</enumer>
	<enumer name="EquipmentSlot" type="int32_t">
		<field name="ES_MIN" comment=""/>
		<field name="ES_HEAD" comment="头部"/>
		<field name="ES_BODY" comment="身体"/>
		<field name="ES_FEET" comment="脚"/>
		<field name="ES_ORNAMENT" comment="饰品"/>
		<field name="ES_WEAPON" comment="武器"/>
		<field name="ES_MAX" comment=""/>
	</enumer>
	<table name="COM_LoginInfo" comment="登录信息">
		<member name="Username" type="string"/>
		<member name="Password" type="string"/>
	</table>
	<table name="COM_AccountInfo" comment="登录成功返回账户信息">
		<member name="SessionCode" type="string"/>
	</table>
	<table name="COM_ItemInstance" comment="道具实例">
		<member name="ItemId" type="int32_t"/>
		<member name="InstanceId" type="int64_t"/>
	</table>
	<table name="COM_EntityInstance" comment="卡片数据实例">
		<member name="InstanceId" type="int64_t"/>
		<member name="IProperty" type="int32_t" is_array="true"/>
		<member name="CProperty" type="float" is_array="true"/>
		<member name="Equipments" type="COM_ItemInstance" is_array="true"/>
	</table>
	<table name="COM_PlayerInstance" comment="角色信息">
		<member name="InstanceId" type="int64_t"/>
		<member name="PlayerName" type="string"/>
		<member name="PlayerEntity" type="COM_EntityInstance"/>
		<member name="Employees" type="COM_EntityInstance" is_array="true"/>
	</table>
	<service name="COM_ClientToServer" comment="客户端通往服务器消息通道">
		<table name="Login" comment="登录">
			<member name="info" type="COM_LoginInfo"/>
		</table>
		<table name="CreatePlayer" comment="创建角色">
			<member name="template_id" type="int32_t"/>
			<member name="player_name" type="string"/>
		</table>
	</service>
	<service name="COM_ServerToClient" comment="服务器通往客户端消息通道">
		<table name="ErrorMessage" comment="错误信息返回 后面的字符串参数是备用">
			<member name="err" type="ErrorNo"/>
			<member name="msg" type="string"/>
		</table>
		<table name="LoginSuccess" comment="登录成功">
			<member name="info" type="COM_AccountInfo"/>
		</table>
		<table name="CreatePlayerSuccess" comment="创建角色成功">
			<member name="player" type="COM_PlayerInstance"/>
		</table>
	</service>
</schema>